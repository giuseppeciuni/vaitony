<!-- Sources Tab -->
<div class="tab-pane fade" id="sources" role="tabpanel" aria-labelledby="sources-tab">
    <h2 class="h5 mb-3">Fonti di riferimento AI</h2>

    {% if conversation_history and conversation_history.0.sources %}
    <div class="list-group">
        {% for source in conversation_history.0.sources %}
        <div class="source-item mb-3">
            <div class="d-flex justify-content-between align-items-center mb-1">
                <strong class="source-title">{{ source.filename|default:"Documento" }}</strong>
                <small class="text-muted">{{ source.page|default:"" }}</small>
            </div>
            <div class="source-content small p-2 bg-light rounded">
                {{ source.content }}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <i class="bi bi-file-text"></i>
        <h3>Nessuna fonte disponibile</h3>
        <p class="text-muted">Fai una domanda all'AI per vedere le fonti di riferimento</p>
    </div>
    {% endif %}
</div>